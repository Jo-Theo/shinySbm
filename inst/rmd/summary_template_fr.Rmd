---
title: "Rapport Shiny SBM"
params:
  upload: NA
  sbm: NA
  options: NA
  langue: FR
---

```{r setup, echo=FALSE}
library(shinySbm)
R <- purrr::map(params,~if(identical(.x,"NA")){NA}else{.x})
show_mat <- !identical(R$upload,NA)
show_sbm <- !identical(R$sbm,NA)

if(!identical(R$options,NA)){
  is_transposed <- R$options$showTransposed
}else{
  is_transposed <- F
}
if(show_mat){
  is_bipartite <- R$upload$Dataset$type == 'bipartite'
}else{
  is_bipartite <- F
}
```

```{r child1, child=if(show_mat & show_sbm) 'child_empty_fr.Rmd'}
```

## Introduction

Ce rapport automatique à été produit par l'application [Shiny SBM](https://forgemia.inra.fr/theodore.vanrenterghem/shinySbm) (aussi disponible via ce [lien](https://shiny.migale.inrae.fr/app/ShinySBM)). C'est un résumé d'application d'un modèle à blocs stochastique. La partie moélisation est basé sur le package [sbm](https://CRAN.R-project.org/package=sbm) de R.

```{r child1, child=if(show_mat) 'child_imported_fr.Rmd'}
```

## Visuel de Matrice

```{r child2, child=if(show_mat) 'child_imported_visual.Rmd'}
```

`r ifelse(is_transposed,paste0("\uc0"," noter que sur cette image, colonnes et lignes sont invers","\ue9","es."),"")`

## Résultats du Modèle à Blocks stochastique

```{r child3, child=if(show_sbm) 'child_sbm_fr.Rmd'}
```

## Visualisation du SBM

```{r child4, child=if(show_sbm) 'child_sbm_visual.Rmd'}
```

`r ifelse(is_transposed,paste0("\uc0"," noter que sur cette image, colonnes et lignes sont invers","\ue9","es."),"")`


# Références

1.  Chiquet J, Donnet S, Barbillon P (2023).  sbm: Stochastic Blockmodels. R package version 0.4.5,  
  [https://CRAN.R-project.org/package=sbm](https://CRAN.R-project.org/package=sbm).
  
2.  Vanrenterghem T, Julie A (2023).  ShinySBM: A shiny application for Stochastic Blockmodels. R package on gitlab,  
  [https://forgemia.inra.fr/theodore.vanrenterghem/shinySbm](https://forgemia.inra.fr/theodore.vanrenterghem/shinySbm).
  
3.  We are grateful to the INRAE MIGALE bioinformatics facility (MIGALE, INRAE, 2020. Migale bioinformatics Facility, doi:
  10.15454/1.5572390655343293E12) for providing help and/or computing and/or storage resources.
  




